import{r as a,o,c as d,a as e,e as i,d as t,w as s,f as S,F as m,b as u,j as y}from"./index-ab9007e5.js";const k={class:""},N=S('<h2 class="text-2xl font-bold my-4">Концепт API</h2><p class="my-4"> API построено на основе протокола удаленного вызова процедур JSON-RPC 2.0. </p><p class="my-4">API Endpoint — <b>https://agr.uz/gateway</b></p><p class="my-4"> Авторизация и безопасность — Для обеспечения безопасности используется криптографический протокол TLS v1, TLS v1.1 или TLS v1.2. Для авторизации платежного инструмента, платежный инструмент должен отправить HTTP заголовок “Auth”. </p><h2 class="text-2xl font-bold my-4">Структура заголовка Auth</h2>',5),R={class:"my-4"},T=S('<p class="my-4"><b>hash</b> — sha1(secret_key + timestamp)</p><p class="my-4"><b>timestamp</b> — UTC Время соединения в миллисекундах</p><p class="my-4"><b>service_id</b> — Идентификатор платежного инструмента в системе PSP. (Выдается при регистрации платежного инструмента) </p><p class="my-4"><b>secret_key</b> — Ключ платежного инструмента. (Выдается при регистрации платежного инструмента) </p><p class="my-4"><b>Владелец приложения</b> — лицо, в собственности которого находится приложение. </p><p class="my-4"><b>Пример заголовка</b></p>',6),x={class:"my-4"},w=e("h2",{class:"text-2xl font-bold my-4"},"Запрос в формате JSON-RPC",-1),L=e("p",{class:"my-4"},"RPC Запрос это JSON объект со следующими полями:",-1),O=e("p",{class:"my-4"},"Пример RPC запроса",-1),j=e("h2",{class:"text-2xl font-bold my-4"},"Ответ в формате JSON-RPC",-1),B=e("p",{class:"my-4"},"RPC Ответ это JSON объект со следующими полями:",-1),J=e("p",{class:"my-4"},"Пример RPC запроса",-1),A=e("h2",{class:"text-2xl font-bold my-4"},"Ошибки",-1),I=e("p",{class:"my-4"},"RPC Ответ это JSON объект со следующими полями:",-1),H=e("p",{class:"my-4"},"Пример ответа завершенного ошибкой",-1),U=e("div",{class:"my-4"},null,-1),E=e("p",{class:"my-4"},[e("b",null,"Общие ошибки")],-1),M='{"id":202,"method":"method.name","params":{"param1":"Any String"}}',V='{"id" : 202,"error" : null,"result" : {    "param1" : "String or any json type"}}',q='{"id" : 202,"error" : {    "code" : -32601,    "message" : "Запрашиваемый метод не найден."},"result" : null}',K={__name:"MarketPayConceptPage",setup(D){const _={data:[{property:"id",type:"Integer",description:"Идентификатор запроса."},{property:"method",type:"String",description:"Имя метода на удаленном сервисе."},{property:"params",type:"Object",description:"Необязательный объект с параметрами метода. Если в данном методе нет параметров, поле можно опустить или присвоить ему значение NULL."}],columns:{property:"Свойство",type:"Тип",description:"Описание"}},b={data:[{property:"error",type:"Error",description:"Данное поле будет содержать ошибку. Если метод выполнился без ошибок, данное поле будет равно NULL."},{property:"result",type:"Object",description:"Объект с результатом метода. В случае возникновения ошибки данное поле будет равно NULL"},{property:"id",type:"Integer",description:"Идентификатор запроса. То же значение, что и в запросе, к которому относится данный ответ."}],columns:{property:"Свойство",type:"Тип",description:"Описание"}},C={data:[{property:"code",type:"Integer",description:"Код ошибки"},{property:"message",type:"String",description:"Сообщение об ошибке"},{property:"data",type:"Object",description:"Дополнительное поле с данными об ошибке. Поле может содержать NULL, или необходимые данные в контексте данной ошибки."}],columns:{property:"Свойство",type:"Тип",description:"Описание"}},f={data:[{code:-32300,description:"Не хватает параметров"},{code:-32301,description:"Карта не зарегистрирована"},{code:-32302,description:"Не удалось получить информацию о карты"},{code:-32303,description:"Неверный формат телефона"},{code:-32304,description:"Неверный формат номер карты"},{code:-32305,description:"Неверный формат срок действия карты"},{code:-32306,description:"Не удалось зарегистрировать карту"},{code:-32307,description:"Не удалось сгенерировать токен"},{code:-32308,description:"Неверный код или время жизни кода истекло"},{code:-32309,description:"Недостаточно средств"},{code:-32310,description:"Карта заблокирована или временно не обслуживается"},{code:-32311,description:"Услуга SMS-информирования не включена"},{code:-32312,description:"Статус транзакции проведенный"},{code:-32313,description:"Статус транзакции отмененный"},{code:-32314,description:"Транзакция не найдена"},{code:-32315,description:"Сервис заблокирован!"},{code:-32316,description:"Не удалось получить информацию о поставщике"},{code:-32317,description:"Пользователь или заказ не найден"},{code:-32318,description:"Процессинговый центр недоступен"},{code:-32319,description:"Поставщик заблокирован!"},{code:-32320,description:"Неактуальный запрос, timestamp устарел"},{code:-32400,description:"Системная (внутренняя ошибка). Появляется при различных сбоях"},{code:-32504,description:"Недостаточно привилегий для выполнения метода"},{code:-32601,description:"Запрашиваемый метод не найден"},{code:-32600,description:"Передан неправильный JSON-RPC объект"},{code:-32700,description:"Ошибка Парсинга JSON. RPC запрос является не валидным JSON объектом"}],columns:{code:"Код",description:"Описание"}};return(F,z)=>{const g=a("PrimeChip"),p=a("Column"),l=a("DataTable"),P=a("InlineMessage"),h=a("CodeBlock"),v=a("BlockPagination");return o(),d("div",k,[N,e("p",R,[i("HTTP заголовок "),t(g,null,{default:s(()=>[i("Auth: service_id-hash-timestamp")]),_:1})]),T,e("p",x,[t(g,null,{default:s(()=>[i(" Auth: 05e3bab097f42yu0a62ced0b-7f420a62c22fbe3bab09ed0b57874898-1399114284039")]),_:1})]),w,L,t(l,{rowHover:!0,class:"my-4",value:_.data,tableStyle:"min-width: 50rem"},{default:s(()=>[(o(!0),d(m,null,u(_.columns,(r,c,n)=>(o(),y(p,{key:n,field:c,header:r},null,8,["field","header"]))),128))]),_:1},8,["value"]),t(P,{severity:"warn"},{default:s(()=>[i(' В отличии от оригинального стандарта JSON-RPC, поле "params" содержит только именованные параметры. ')]),_:1}),O,t(h,{highlightjs:!0,code:M,lang:"json",persistentCopyButton:!0,theme:"atom-one-dark"}),j,B,t(l,{rowHover:!0,class:"my-4",value:b.data,tableStyle:"min-width: 50rem"},{default:s(()=>[(o(!0),d(m,null,u(b.columns,(r,c,n)=>(o(),y(p,{key:n,field:c,header:r},null,8,["field","header"]))),128))]),_:1},8,["value"]),J,t(h,{highlightjs:!0,code:V,lang:"json",persistentCopyButton:!0,theme:"atom-one-dark"}),A,I,t(l,{rowHover:!0,class:"my-4",value:C.data,tableStyle:"min-width: 50rem"},{default:s(()=>[(o(!0),d(m,null,u(C.columns,(r,c,n)=>(o(),y(p,{key:n,field:c,header:r},null,8,["field","header"]))),128))]),_:1},8,["value"]),H,t(h,{highlightjs:!0,code:q,lang:"json",persistentCopyButton:!0,theme:"atom-one-dark"}),U,t(P,{severity:"warn"},{default:s(()=>[i(' Далее для краткости во всех примерах Запроса и Ответах будут описаны только поля, "params" и "result" соответственно. ')]),_:1}),E,t(l,{rowHover:!0,class:"my-4",value:f.data,tableStyle:"min-width: 50rem"},{default:s(()=>[(o(!0),d(m,null,u(f.columns,(r,c,n)=>(o(),y(p,{key:n,field:c,header:r},null,8,["field","header"]))),128))]),_:1},8,["value"]),t(v,{next:{label:"Управление саб мерчантами",name:"market-pay-subvendor-register"}})])}}};export{K as default};
